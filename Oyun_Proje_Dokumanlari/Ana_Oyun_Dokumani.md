# 2D Mobil Online Ticaret Oyunu - Oyun TasarÄ±m DÃ¶kÃ¼manÄ±

## ğŸ“‹ Proje Genel Bilgileri

**Oyun TÃ¼rÃ¼:** 2D Mobil Online Ticaret SimÃ¼lasyonu  
**Platform:** Android & iOS  
**Hedef Kitle:** 13+ yaÅŸ arasÄ± strateji ve simÃ¼lasyon oyun severler  
**Oyuncu YapÄ±sÄ±:** Ã‡ok oyunculu online (Multiplayer)  

---

## ğŸ¯ Referans Oyun Analizi

### 1. **Capitalism 2** - Analiz
**GÃ¼Ã§lÃ¼ YanlarÄ±:**
- KapsamlÄ± iÅŸ simÃ¼lasyonu (60+ Ã¼rÃ¼n Ã§eÅŸidi)
- GerÃ§ek dÃ¼nya iÅŸ stratejileri
- Borsa sistemi ve ÅŸirket birleÅŸmeleri
- AraÅŸtÄ±rma ve teknoloji geliÅŸtirme
- Ãœst dÃ¼zey yÃ¶netici iÅŸe alma sistemi

**Mobil adaptasyonu iÃ§in alÄ±nabilecekler:**
- Ã‡eÅŸitli Ã¼rÃ¼n kategorileri
- Teknoloji geliÅŸtirme sistemi
- Hisse senedi benzeri deÄŸer sistemi

### 2. **Ticarium: Business Tycoon** - Analiz
**GÃ¼Ã§lÃ¼ YanlarÄ±:**
- Mobil iÃ§in optimize edilmiÅŸ arayÃ¼z
- Online ticaret sistemi
- Ãœretim tesisleri kurma
- 10.000$ baÅŸlangÄ±Ã§ hibesi
- "Al, Ã¼ret, sat, kazan" basit formula

**Mobil adaptasyonu iÃ§in alÄ±nabilecekler:**
- Basit ve anlaÅŸÄ±lÄ±r ticaret sistemi
- Ãœretim tesisi geliÅŸtirme
- Hibeli baÅŸlangÄ±Ã§ sistemi

### 3. **Trade Simulator OyunlarÄ±** - Analiz
**GÃ¼Ã§lÃ¼ YanlarÄ±:**
- GerÃ§ek zamanlÄ± piyasa simÃ¼lasyonu
- Portfolio yÃ¶netimi
- Risk yÃ¶netimi sistemi
- EÄŸitici iÃ§erik

**Mobil adaptasyonu iÃ§in alÄ±nabilecekler:**
- Basit ticaret arayÃ¼zÃ¼
- Fiyat dalgalanmalarÄ± sistemi
- KazanÃ§/kayÄ±p takibi

---

## ğŸ® Oyun Konsepti - GÃœNCEL VÄ°ZYON

### Temel Konsept
**"Ä°tibar ve Ä°letiÅŸim OdaklÄ± Ticaret Ekosistemi"**

Bu sadece bir ticaret oyunu deÄŸil - **sosyal bir ekonomi simÃ¼lasyonu**. BaÅŸarÄ± para ile deÄŸil, **itibar ve doÄŸru ortaklÄ±klarla** gelir. Oyuncular gerÃ§ek iÅŸ dÃ¼nyasÄ± gibi **network kurmak**, **gÃ¼ven oluÅŸturmak** ve **uzun vadeli projeler geliÅŸtirmek** zorunda.

### Ana Oyun DÃ¶ngÃ¼sÃ¼ - YENÄ°LENDÄ°
1. **Ä°tibar kazan** â†’ Chat, baÅŸarÄ±lÄ± iÅŸlemler, gÃ¼venilir ortaklÄ±klar
2. **Network kur** â†’ DoÄŸru insanlarÄ± bul, kontrat fÄ±rsatlarÄ± yakala  
3. **BÃ¼yÃ¼k projelere katÄ±l** â†’ AVM, fabrika, ÅŸehir projeleri
4. **Pasif gelir oluÅŸtur** â†’ Kira, iÅŸletme gelirleri, proje paylarÄ±
5. **GerÃ§ek deÄŸer yarat** â†’ Oyun parasÄ±nÄ± gerÃ§ek paraya Ã§evir ğŸ’°

### ğŸ”‘ Kritik BaÅŸarÄ± FaktÃ¶rleri
- **Para â‰  GÃ¼Ã§** â†’ Ä°tibar = GerÃ§ek GÃ¼Ã§
- **Solo oyun yok** â†’ Her bÃ¼yÃ¼k baÅŸarÄ± iÅŸbirliÄŸi gerektirir
- **Sosyal beceriler** â†’ En Ã¶nemli oyun mekaniÄŸi
- **Uzun vadeli dÃ¼ÅŸÃ¼nme** â†’ HÄ±zlÄ± zenginlik deÄŸil, sÃ¼rdÃ¼rÃ¼lebilir bÃ¼yÃ¼me

---

## ğŸ¯ ANA OYUN MEKANÄ°KLERÄ° (DetaylandÄ±rÄ±lmÄ±ÅŸ)

### 1. ğŸ›’ **Ticaret Sistemi**
**Oyuncu BuluÅŸma:**
- **Oyun iÃ§i chat sistemi** (global/lokal sohbet odalarÄ±)
- **Sosyal medya entegrasyonu** (Discord, Telegram gruplarÄ±)
- **Pazaryeri sistemi** (otomatik alÄ±m-satÄ±m)
- **Kontrat sistemi** (bÃ¼yÃ¼k projeler iÃ§in Ã§ok oyunculu anlaÅŸmalar)

**Para Transfer Sistemi:**
- **Sadece oyun iÃ§i para** (gerÃ§ek para transferi YOK)
- **Trade penceresi** (iki taraf karÅŸÄ±lÄ±klÄ± eÅŸya/para koyar)
- **Ã‡ift onay sistemi** (her iki oyuncu onayladÄ±ktan sonra takas)
- **Ä°ÅŸlem geÃ§miÅŸi** (gÃ¼ven puanÄ± iÃ§in kayÄ±t)

### 2. ğŸ¤ **Kontrat Sistemi & DolandÄ±rÄ±cÄ±lÄ±k MekaniÄŸi**
**Kontrat NasÄ±l Ã‡alÄ±ÅŸÄ±r:**
- **Ä°ki oyuncu anlaÅŸÄ±r:** "30 iÅŸletmeli AVM, sen 5 iÅŸyeri alacaksÄ±n"
- **Kontrat imzalanÄ±r:** YazÄ±lÄ± anlaÅŸma ve Ã¶deme
- **Proje tamamlanÄ±r:** AVM 30 iÅŸletme ile aÃ§Ä±lÄ±r âœ…
- **YA DA... DolandÄ±rÄ±lÄ±rsÄ±n:** AVM 5 iÅŸletme ile tamamlanÄ±r! ğŸ˜ˆ

**DolandÄ±rÄ±cÄ±lÄ±k Ã–rnek Senaryo:**
```
1. Ahmet: "30 iÅŸletmeli AVM yapÄ±yorum, 5 iÅŸyeri 500k!"
2. Mehmet: "Tamam, iÅŸte param!" (500k Ã¶der)
3. Ahmet: BaÅŸka yatÄ±rÄ±mcÄ± bulamadÄ±, sadece 5 iÅŸletme yaptÄ±
4. Mehmet: Hem az para kazanÄ±r, hem itibarÄ±nÄ± kaybeder
5. Ahmet: DolandÄ±rÄ±cÄ± olarak iÅŸaretlenir!
```

**GÃ¼ven Sistemi:**
- **Oyuncu Profili PuanÄ±:** 200 oy â†’ 180 gÃ¼venilir, 20 dolandÄ±rÄ±cÄ±
- **Ä°tibar sistemi:** DolandÄ±rÄ±rsan gelecek kontratlar yok!
- **Sosyal ceza:** Chat'te kimse seninle anlaÅŸma yapmaz

### 3. ğŸ†• **Yeni Oyuncu BaÅŸlangÄ±Ã§ Sistemi**
**"Kimsesiz ve ParasÄ±z" Senaryosu:**

**BaÅŸlangÄ±Ã§ Durumu:**
- **0 para, 0 eÅŸya, evsiz-barksÄ±z**
- **Chat'te yardÄ±m arar:** "Yeni baÅŸladÄ±m, biri sahip Ã§Ä±kar mÄ±?"
- **Mentor sistemi:** Eski oyuncular yeni gelenlere yardÄ±m eder

**Mentor Ã–dÃ¼lleri:**
- **Yeni oyuncuya yardÄ±m et:** Balta + orman + Ã§iftlik ver
- **Mentor Ã¼nvanÄ± kazan:** Profilde "YardÄ±msever" rozeti
- **Mentor puanÄ±:** Ne kadar Ã§ok kiÅŸiye yardÄ±m ettiysen o kadar saygÄ±n

**Ã‡oklu Ãœyelik Ã–nlemi:**
- **Telefon doÄŸrulama** (SMS kodu)
- **IP kontrolÃ¼** (aynÄ± aÄŸdan Ã§ok hesap uyarÄ±sÄ±)  
- **DavranÄ±ÅŸ analizi** (botlarÄ± yakalar)
- **Mentor limiti** (Bir kiÅŸi gÃ¼nde max 3 yeni oyuncuya yardÄ±m)

### 4. ğŸ“¦ **Craft Sistemi & BÃ¼yÃ¼k Projeler**
**Craft MantÄ±ÄŸÄ±:**
- **Basit Ã¼rÃ¼nler** â†’ **KarmaÅŸÄ±k Ã¼rÃ¼nler** (piramit sistemi)
- **AVM Ã–rneÄŸi:** 
  - 10 iÅŸyeri sahibi ile kontrat + 500k toprak + Ã§imento + 1M tuÄŸla
  - 30 iÅŸyeri sahibi + 100 farklÄ± oyuncudan malzeme
- **Kontrat sistemi:** Ã‡ok oyunculu projeler iÃ§in anlaÅŸmalar

**ÃœrÃ¼n HiyerarÅŸisi:**
```
Hammadde â†’ Ä°ÅŸlenmiÅŸ ÃœrÃ¼n â†’ LÃ¼ks EÅŸya â†’ Mega Projeler (AVM, Fabrika)
```

### 5. ğŸ“ˆ **Ãœnvan TabanlÄ± Progression**
**EXP yok, Prestij var:**
- **Seviye = Sahip olunan varlÄ±klar**
- **Ã–rnek Ãœnvan Kriterleri:**
  - *GiriÅŸimci:* 3 araba + 1 villa + 5 iÅŸletme + 100k para
  - *Ä°ÅŸ MogÃ¼lÃ¼:* 10 iÅŸletme + AVM payÄ± + 1M para
  - *Ekonomi KralÄ±:* Åehir projelerine yatÄ±rÄ±m + mega varlÄ±klar
  - *Mentor:* 50+ yeni oyuncuya yardÄ±m etmiÅŸ
  - *GÃ¼venilir Ortak:* 100+ baÅŸarÄ±lÄ± kontrat

**Ãœnvan FaydalarÄ±:**
- **Ä°tibar puanÄ±** - diÄŸer oyuncular gÃ¼venir
- **Ã–zel kontrat haklarÄ±** - bÃ¼yÃ¼k projelere katÄ±lÄ±m
- **Prestij eÅŸyalarÄ±** - gÃ¶steriÅŸ Ã¼rÃ¼nleri

### 6. ğŸ‘¥ **Sosyal Sistem & GÃ¼ven Ekonomisi**
**Ä°letiÅŸim:**
- **Full chat sistemi** (Ã¶zel mesaj, grup chat)
- **Mail sistemi** (resmi iÅŸlemler iÃ§in)
- **ArkadaÅŸlÄ±k sistemi** (gÃ¼venilir ortaklar)

**GÃ¼ven PuanÄ± Sistemi:**
- **Oyuncu profili:** "200 oyuncudan 180 gÃ¼venilir, 20 dolandÄ±rÄ±cÄ±"
- **Ä°ÅŸlem geÃ§miÅŸi:** TÃ¼m kontratlar kayÄ±tlÄ±
- **Sosyal ceza:** DolandÄ±rÄ±cÄ±larla kimse anlaÅŸma yapmaz
- **Ä°tibar deÄŸeri:** En Ã¶nemli game mekaniÄŸi!

**Guild YOK - Kontrat VAR:**
- **AVM Projesi:** 1 kiÅŸi yaptÄ±rÄ±r, 15 kiÅŸi pay alÄ±r
- **Ä°ÅŸyeri kiralama:** AVM'de yer alamazsan iÅŸletme aÃ§amazsÄ±n
- **Getiri paylaÅŸÄ±mÄ±:** AVM gelirinden herkes payÄ±nÄ± alÄ±r

### 7. ğŸ’° **Monetizasyon (Pay2Win DEÄÄ°L!)**
**Premium Ã–zellikler:**
- **Otomatik ticaret:** "Dolar 50'nin altÄ±na dÃ¼ÅŸerse al, 60'Ä±n Ã¼stÃ¼ne Ã§Ä±ksa sat"
- **GeliÅŸmiÅŸ analitik:** Piyasa trendleri, grafik analizi
- **HÄ±zlÄ± bildirimler:** FÄ±rsat anÄ±nda uyarÄ±

**Ana Gelir Sistemi:**
- **Ä°ÅŸletme gelirleri** (pasif gelir)
- **Kira bedelleri** (gayrimenkul)
- **Kontrat kazanÃ§larÄ±** (proje paylarÄ±)
- **ğŸ”¥ Oyun iÃ§i para takasÄ±** - Sadece oyun parasÄ±, gÃ¼venli sistem!

### ğŸš€ **BÃ¼yÃ¼k Vizyon**
**Oyun DÄ±ÅŸÄ± Ekonomi:**
- Oyun parasÄ± â†’ GerÃ§ek para (3. parti siteler)
- Oyuncular potansiyel gelir elde edebilir
- **Viral bÃ¼yÃ¼me stratejisi!** ğŸ’

### ğŸ›¡ï¸ **GÃ¼venlik ve Anti-Cheat**
**Ã‡oklu Hesap Ã–nlemleri:**
- **SMS doÄŸrulama** (her hesap iÃ§in)
- **IP analizi** (ÅŸÃ¼pheli aktivite tespiti)
- **DavranÄ±ÅŸ kontrolÃ¼** (bot detection)
- **Mentor limiti** (gÃ¼nlÃ¼k yardÄ±m sÄ±nÄ±rÄ±)

**DolandÄ±rÄ±cÄ±lÄ±k Sistemi:**
- **KasÄ±tlÄ± dolandÄ±rÄ±cÄ±lÄ±k** (oyunun bir parÃ§asÄ±!)
- **Sosyal ceza** (gÃ¼ven puanÄ± dÃ¼ÅŸer)
- **Ä°tibar ekonomisi** (en Ã¶nemli meta-game)

---

## ğŸ® **Ä°LK 30 DAKÄ°KA DENEYÄ°MÄ° (Critical Path)**

### **Dakika 0-5: "Kimsesiz BaÅŸlangÄ±Ã§"**
**Oyuna GiriÅŸ:**
1. **SMS doÄŸrulama** (Ã§oklu hesap Ã¶nlemi)
2. **Ä°sim seÃ§imi** (deÄŸiÅŸtirilebilir)
3. **Profil fotoÄŸrafÄ±** (avatar sistemi)

**Oyun TanÄ±tÄ±mÄ±:**
- **Karakter:** Sokakta kalmÄ±ÅŸ, cebinde 0 TL
- **Ekran mesajÄ±:** "Bu oyunda kimse sana para vermez. BaÅŸkalarÄ±na gÃ¼venmek zorundasÄ±n."
- **Ä°lk gÃ¶rev:** Chat'te yardÄ±m iste

### **Dakika 5-15: "Bot Mentor ile HÄ±zlÄ± BaÅŸlangÄ±Ã§"**
**Bot Mentor Sistemi:**
1. **Otomatik mentor atamasÄ±:** Sistem bot mentor'u 30 saniye iÃ§inde atar
2. **Bot mentor paketi:** Balta + kÃ¼Ã§Ã¼k orman alanÄ± + 50 TL baÅŸlangÄ±Ã§ parasÄ±
3. **Basit gÃ¶revler:** "Odun kes, pazarda sat, 100 TL kazan"
4. **Chat Ã¶ÄŸretimi:** Bot ile basit sohbet, komutlarÄ± Ã¶ÄŸren

**Bot Mentor AvantajlarÄ±:**
- **HiÃ§ beklemez** - oyuncu hemen baÅŸlar
- **SabÄ±rlÄ± Ã¶ÄŸretici** - aynÄ± ÅŸeyleri tekrarlar
- **24/7 aktif** - her saatte yardÄ±m eder

### **Dakika 15-25: "Ä°lk Ä°ÅŸ Deneyimi & GerÃ§ek Mentor Arama"**
**Bot ile Ä°lk Ä°ÅŸler:**
1. **Odun kesme ve satÄ±ÅŸ:** Ä°lk 50-100 TL kazan
2. **Pazaryeri kullanÄ±mÄ±:** Basit alÄ±m-satÄ±m Ã¶ÄŸren
3. **Chat'te duyuru:** "Bot'tan mezun oldum, gerÃ§ek mentor arÄ±yorum!"

**GerÃ§ek Mentor Bulma SÃ¼reci:**
- **30 dakika sonra sistem mesajÄ±:** "ArtÄ±k gerÃ§ek mentor bulma zamanÄ±!"
- **Mentor arama modu:** Chat'te "gerÃ§ek mentor aranÄ±yor" etiketi
- **Potansiyel mentorlar:** "Yeni mezun" oyuncular iÃ§in bildirim

### **Dakika 25-30: "GerÃ§ek Mentorla Ä°lk Temas"**
**Mentor EÅŸleÅŸtirme:**
1. **GerÃ§ek mentor bulunur:** Ä°tibar puanÄ± yÃ¼ksek oyuncu
2. **Ä°lk gÃ¶rÃ¼ÅŸme:** "Bot'tan ne Ã¶ÄŸrendin? Hedeflerin neler?"
3. **Uzun vadeli planlama:** "Ben sana 1000 TL'ye Ã§iftlik kurayÄ±m"
4. **Sosyal baÄŸ:** GerÃ§ek dostluk baÅŸlar

### **ğŸ¯ Ä°ki Mentor Sistemi AvantajlarÄ±:**
- **Bot Mentor:** HÄ±zlÄ± baÅŸlangÄ±Ã§, oyunu Ã¶ÄŸrenme
- **GerÃ§ek Mentor:** Derinlemesine rehberlik, sosyal baÄŸ
- **GeÃ§iÅŸ sÃ¼reci:** 30 dakika mÃ¼kemmel timing
- **HiÃ§ oyuncu kaybetmeyiz:** Bot her zaman hazÄ±r

### **Dakika 25-30: "BaÄŸÄ±msÄ±zlÄ±k Ä°lk AdÄ±mÄ±"**
**Kendi AyaklarÄ± Ãœzerinde Durma:**
1. **KÃ¼Ã§Ã¼k iÅŸletme kirala:** Limonata standÄ± (100 TL/gÃ¼n)
2. **Ä°lk mÃ¼ÅŸteri:** BaÅŸka yeni oyuncular
3. **Ä°lk kar:** 20-30 TL
4. **Hedef belirleme:** "1000 TL biriktir, bÃ¼yÃ¼k iÅŸletme aÃ§"

### **ğŸ¯ 30 Dakika Sonunda Oyuncu:**
- **Bot mentor'dan temel oyunu Ã¶ÄŸrendi** âœ…
- **Ä°lk para kazandÄ±** (50-100 TL) âœ…
- **Chat sistemi ve pazaryeri biliyor** âœ…
- **GerÃ§ek mentor buldu** âœ…
- **Uzun vadeli hedef belirledi** âœ…
- **Sosyal baÄŸ kurdu** (gerÃ§ek oyuncuyla) âœ…

### **ğŸ¤– Bot vs ğŸ‘¤ GerÃ§ek Mentor KarÅŸÄ±laÅŸtÄ±rmasÄ±:**

| Ã–zellik | Bot Mentor | GerÃ§ek Mentor |
|---------|------------|---------------|
| **HÄ±z** | AnÄ±nda atar | 5-30 dk bekleyebilir |
| **SabÄ±r** | Sonsuz | Ä°nsan faktÃ¶rÃ¼ |
| **Ã–ÄŸretim** | Temel kurallar | Ä°leri stratejiler |
| **Sosyal BaÄŸ** | Yok | GÃ¼Ã§lÃ¼ dostluk |
| **Uzun Vade** | SÄ±nÄ±rlÄ± | Hayat boyu mentor |
| **Fayda** | HÄ±zlÄ± baÅŸlangÄ±Ã§ | Derin rehberlik |

### **ğŸ“ˆ Progression Yolu:**
**0-5dk:** KayÄ±t + tanÄ±tÄ±m  
**5-15dk:** Bot mentor + temel Ã¶ÄŸrenme  
**15-25dk:** Ä°lk iÅŸ + gerÃ§ek mentor arama  
**25-30dk:** GerÃ§ek mentor + uzun vade planlama  
**30dk+:** GerÃ§ek sosyal ekonomi baÅŸlar! ğŸš€

---

## ğŸ› ï¸ **TEKNÄ°K ALTYAPI Ã–NERÄ°SÄ°**

### **Ã–nerilen Teknoloji Stack:**

**ğŸ® Oyun GeliÅŸtirme:**
- **Ana Motor:** Unity 2022.3 LTS *(Orta vade opsiyon / Åu an aktif deÄŸil - Web PWA Ã¶ncelikli)*
- **Programlama Dili:** C# *(ileriki faz)*
- **UI Framework:** Unity UI Toolkit *(ileriki faz)*
- **2D Grafik:** Unity 2D + Spine *(ileriki faz)*

**ğŸŒ Backend AltyapÄ±sÄ± (GÃœNCEL - MVP):**
- **Server:** Node.js + Express.js âœ… (scaffold hazÄ±r)
- **GerÃ§ek ZamanlÄ±:** Socket.io âœ… (chat temel eventler)
- **VeritabanÄ±:** **SQLite (MVP)** â–¶ MongoDB planÄ± orta vade (yÃ¼k artÄ±ÅŸÄ± / analitik)
- **Authentication:** JWT (register/login hazÄ±r) + SMS (gelecek faz)
- **Cache:** (Ä°leride Redis â€“ online sayaÃ§ / rate limit)
- **Cloud:** Ä°lk aÅŸama VPS (AWS/DO seÃ§imi yapÄ±lmadÄ±)

**DeÄŸiÅŸiklik Notu:** Ã–nceki dokÃ¼manda MongoDB + Redis birincil seÃ§imdi; MVP hÄ±z ve sadelik iÃ§in SQLiteâ€™a dÃ¼ÅŸÃ¼rÃ¼ldÃ¼ (Versiyon 3.2 gÃ¼ncellemesi).

### **Alternatif (Daha Basit) Stack:**
- **Flutter + Dart** (tek kod, iki platform) *(ERTELENDÄ°)*
- **Firebase** (backend hazÄ±r) *(ERTELENDÄ°)*
- **Cloud Firestore** (gerÃ§ek zamanlÄ± veritabanÄ±) *(ERTELENDÄ°)*

### **Neden Unity + Node.js?**
âœ… **Ã–lÃ§eklenebilir** (binlerce oyuncu)  
âœ… **Esnek** (Ã¶zellik eklemek kolay)  
âœ… **Topluluk desteÄŸi** (problem Ã§Ã¶zÃ¼mÃ¼ hÄ±zlÄ±)  
âœ… **Cross-platform** (iOS'a port kolay)  
**Not:** Unity tarafÄ± aktif geliÅŸtirme kapsamÄ± dÄ±ÅŸÄ±na alÄ±ndÄ± (kÄ±sa vadede PWA odaklÄ±).

---

## ğŸ†• Versiyon 3.2 GÃ¼ncelleme Ã–zeti (10 AÄŸustos 2025)
**Durum:** Backend temel iskeleti eklendi.

### Eklenen Teknik Ã–ÄŸeler
- server/ dizini + package.json
- Express server + Socket.io entegrasyonu
- Health endpoint: GET /health
- Auth rotalarÄ±: POST /api/auth/register, POST /api/auth/login
- SQLite baÄŸlantÄ±sÄ± (better-sqlite3) + migration sistemi
- Migration 001: users, chat_messages, reputation_events, mentorships, transactions tablolarÄ±
- Chat socket eventleri: join_chat, send_message â†’ new_message, online_count_updated

### Mevcut SÄ±nÄ±rlamalar
- Authorization middleware (JWT doÄŸrulama) yok
- Ä°tibar gÃ¼ncelleme iÅŸ kurallarÄ± yok (sadece tablo altyapÄ±sÄ±)
- Mentor akÄ±ÅŸÄ± / state makineleri yok (bot_tutorial_state alanÄ± hazÄ±r)
- Rate limiting / anti-spam yok
- SMS doÄŸrulama henÃ¼z tasarlanmamÄ±ÅŸ

### KÄ±sa Vadeli Teknik Ã–ncelikler (3.3 Hedefi)
1. JWT doÄŸrulama middleware (Authorization: Bearer ...)
2. Chat message flood limit (Ã¶r: 5 sn iÃ§inde >5 mesaj blok)
3. ReputationService (event ekleme + yeniden hesaplama)
4. Basit itibar gÃ¼ncelleme tetikleri (chat aktifliÄŸi + baÅŸarÄ±lÄ± trade placeholder)
5. Mentor eÅŸleÅŸme taslak servisi (sadece veri modeli / dummy)
6. /api/user/me endpoint (profil + itibar dÃ¶ndÃ¼rme)

---

## ğŸ†• Versiyon 3.4 GÃ¼ncelleme Ã–zeti (11 AÄŸustos 2025)
**Durum:** GÃ¼venli leaderboard & cursor abuse yÃ¶netimi tamamlandÄ±; mentor & reputation otomasyonu kÄ±smi.

### Eklenen / DeÄŸiÅŸen Teknik Ã–ÄŸeler
- Cursor gÃ¼venliÄŸi sÄ±kÄ±laÅŸtÄ±rma: Ä°mzasÄ±z (2 parÃ§a) cursor formatÄ± artÄ±k REDDEDÄ°LÄ°YOR.
- Threshold karÅŸÄ±laÅŸtÄ±rmalarÄ± tÃ¼m kodda strict `>` (>= kaldÄ±rÄ±ldÄ±) â€“ abuse hesaplamasÄ± dokÃ¼mana uyumlu hale geldi.
- `shouldAutoDegrade(count)` helper eklendi (auto-degrade karar mantÄ±ÄŸÄ± merkezileÅŸtirildi).
- Rotation env standardizasyonu: `CURSOR_SECRET_ROTATION` (eski `CURSOR_SECRET_SECONDARY` geriye dÃ¶nÃ¼k destekleniyor).
- Around (rank etrafÄ±) leaderboard modu iÃ§in `X-Cache` ve `X-Cache-TTL` header'larÄ± eklendi.
- Mentor & trust leaderboard batch modunda cache ttl minimaline gÃ¶re `X-Batch-Min-TTL` set ediliyor (Ã¶nceden vardÄ±, around uyumu tamamlandÄ±).
- EÅŸik sonrasÄ± cooldown / grace isteÄŸi header tutarlÄ±lÄ±ÄŸÄ± iyileÅŸtirildi.
- GÃ¼venlik imza formatÄ± dokÃ¼mante edildi: HMAC-SHA256(base="score|id") â†’ base64 filtre â†’ ilk 16 karakter.
- Timing-safe HMAC imza karÅŸÄ±laÅŸtÄ±rmasÄ± (`safeEqual`) eklendi (yan kanal risk azaltÄ±mÄ±).
- Granular cursor hata metrikleri: `leaderboard_errors_cursor_format`, `leaderboard_errors_cursor_signature`, `leaderboard_errors_cursor_oversize`.
- Oversize (>256) cursor inputlarÄ± erken reddedilerek DoS yÃ¼zeyi daraltÄ±ldÄ± (+ metrik).
- ReputationEventEmitter uygulandÄ±: chat mesajÄ± (+1), spam penaltÄ±sÄ± (-2), mentor session complete (+3), mentee session complete (+2), kontrat dinamik Ã¶dÃ¼lÃ¼ unified pipeline (applyDirectReputationDelta).
- GÃ¼n deÄŸiÅŸiminde reputation dailyCounters cleanup (basit day-change pruning) eklendi.
- Kontrat dinamik trust Ã¶dÃ¼lleri artÄ±k `updateTrust` yerine reputation pipelineâ€™dan geÃ§iyor (gÃ¶zlemlenebilirlik artÄ±ÅŸÄ±).

### Revize / KaldÄ±rÄ±lanlar
- Eski imzasÄ±z cursor geÃ§iÅŸ uyumluluÄŸu kaldÄ±rÄ±ldÄ± (potansiyel manipÃ¼lasyon yÃ¼zeyi kapandÄ±).
- 3.2 dokÃ¼manÄ±ndaki "JWT middleware yok" sÄ±nÄ±rlamasÄ± artÄ±k geÃ§erli deÄŸil (uygulandÄ±).

### Mevcut SÄ±nÄ±rlamalar (GÃ¼ncel)
- Reputation pipeline: Risk / fraud (default, dolandÄ±rÄ±cÄ±lÄ±k) negatif eventleri ve trade volumetrik eventleri EKLENMEDÄ°.
- Mentor akÄ±ÅŸÄ±: Bot â†’ gerÃ§ek mentor geÃ§iÅŸ limitleri, kalite metriÄŸi, gÃ¼nlÃ¼k mentor/mentee limitleri yok.
- Trade & geniÅŸ ekonomik dÃ¶ngÃ¼: Kaynak Ã¼retim dengeleri, fiyat dalgalanma sistemi, piyasa analitiÄŸi eksik.
- Onboarding 30 dk gÃ¶rev zinciri backend tetikleyicileri (progress events) henÃ¼z yok.
- Fraud / default heuristikleri & contract risk skor hesaplayÄ±cÄ±sÄ± yok.
- SMS doÄŸrulama ve multi-account/device fingerprint modÃ¼lÃ¼ yok.
- Reputation caps: Negatif eventlerin cap dÄ±ÅŸÄ± konfigÃ¼rasyonu (Ã¶rn. SPAM_PENALTY exempt flag) henÃ¼z uygulanmadÄ±.
- Leaderboard abuse IP haritalarÄ± iÃ§in LRU / TTL shrink mekanizmasÄ± yok (dÃ¼ÅŸÃ¼k Ã¶lÃ§ek varsayÄ±mÄ± ile bekletiliyor).

### KÄ±sa Vadeli Teknik Ã–ncelikler (3.5 Hedefi - Revize)
1. Fraud / contract default reputation penalty eventleri (`contract_default`, `fraud_flag`).
2. Trade hacim / pair risk metrikleri + Prometheus etiketleri (Ã¶rn. `trade_completed_total{pair="userA_userB"}` minimal tasarÄ±m orijinal load dÃ¼ÅŸÃ¼nÃ¼lerek throttle).
3. Mentor state machine geniÅŸletme (gÃ¼nlÃ¼k limitler + kalite oranÄ± metriÄŸi).
4. Onboarding gÃ¶rev progression tablosu + event tetikleyicileri.
5. Multi-account erken sinyal heuristikleri (IP + creation cadence + shared device hash taslaÄŸÄ±).
6. Reputation konfigÃ¼rasyon haritasÄ±nÄ± dÄ±ÅŸ JSONâ€™a taÅŸÄ±ma (dinamik reload potansiyeli).
7. Cache & abuse haritalarÄ± iÃ§in hafif periyodik temizlik (scheduler / interval).
8. Prometheusâ€™a contract risk & reputation tÃ¼r bazlÄ± TYPE satÄ±rlarÄ±; trade iÃ§in future-proof label spaces (`reason` vs `type` ayrÄ±mÄ± korunacak).

### Yeni / GÃ¼ncellenen TODO Etiketleri
- `// TODO(reputation): fraud/default event mapping`
- `// TODO(security): abuse maps periodic prune (low prio)`
- `// TODO(economy): trade.volume_daily aggregation` (Ã¶nceki korundu)
- `// TODO(mentor): quality_score metric derivation`
- `// TODO(onboarding): progression events emit`
- `// TODO(config): externalize reputation DELTA_RULES`

---
## ğŸ†• Versiyon 3.4.1 Ek Notlar (Ä°Ã§ Ä°yileÅŸtirme Patch)
**AmaÃ§:** GÃ¼venlik & observability mikro iyileÅŸtirmeleri.
- Timing-safe cursor imza doÄŸrulama.
- Oversize cursor reject + metrik.
- Unified contract reward â†’ reputation pipeline.
- Mentor & mentee session completion reputation Ã¶dÃ¼lleri.
- Daily counter rollover cleanup.

> 3.5 ile birlikte risk, fraud ve onboarding event setâ€™i geniÅŸletilecek.

---

## ğŸ†• Versiyon 3.5-pre GÃ¼ncelleme Ã–zeti (11 AÄŸustos 2025)
**Durum:** Reputation yÃ¼zeyi geniÅŸletildi, risk (default & fraud) ve gÃ¶zlemlenebilirlik altyapÄ±sÄ± gÃ¼Ã§lendirildi; konfigÃ¼rasyon dÄ±ÅŸsallaÅŸtÄ±rÄ±ldÄ±.

### Eklenen / DeÄŸiÅŸen Teknik Ã–ÄŸeler
- Reputation delta & gÃ¼nlÃ¼k cap kurallarÄ± `server/config/reputationRules.json` dosyasÄ±na taÅŸÄ±ndÄ± (hot-reload: fs.watch) â†’ canlÄ± tuning olanaÄŸÄ±.
- Yeni reputation eventleri: `trade_completed`, `contract_default`, `fraud_flag` (negatif risk sinyalleri dahil edildi).
- Mentor kalite metrikleri: `mentorSessionsCompleted`, `mentorRatingsGiven`, `menteeRatingsGiven` (Prometheus export).
- Sliding window (10 dk) trade iliÅŸkisi metrikleri: `tradePairsWindow`, `tradeUniquePartnersWindow` (anomalik pattern Ã¶n sinyali).
- Otomatik sÃ¶zleÅŸme (contract) default sÃ¼pÃ¼rÃ¼cÃ¼: sÃ¼re aÅŸÄ±mlarÄ±nda `CONTRACT_DEFAULT` reputation event emit.
- Admin fraud flag endpoint: `POST /api/admin/fraud/flag` â†’ `FRAUD_FLAG` reputation event.
- Cursor abuse haritalarÄ± iÃ§in periyodik hafif prune scheduler (memory kontrolÃ¼ baÅŸlangÄ±Ã§ adÄ±mÄ±).
- Negatif eventler reputation pipelineâ€™a unified ÅŸekilde dahil (aynÄ± caps & delta hesabÄ± mekanizmasÄ±).
- Onboarding progression altyapÄ±sÄ±: `onboarding_progress` tablosu + `emitOnboardingStep` + ilk tamamlanan kontrat iÃ§in `onboard_contract_first_completed` kuralÄ±.
- Fraud repeat-pair heuristiÄŸi: 10 dk pencerede aÅŸÄ±rÄ± tekrar eden Ã§iftlere otomatik `FRAUD_FLAG` (soÄŸuma sÃ¼resi ile).
- Reputation rules version hashing + diff log (audit friendly baÅŸlangÄ±Ã§).
- README, 3.5-pre durumuna gÃ¼ncellendi (dokÃ¼man senkronizasyonu).

### Revize / KaldÄ±rÄ±lan TODO'lar
- `// TODO(config): externalize reputation DELTA_RULES` TAMAMLANDI.
- `// TODO(security): abuse maps periodic prune` TAMAMLANDI.
- `// TODO(onboarding): progression events emit` KISMEN TAMAM (ilk kontrat adÄ±mÄ±; geniÅŸletme aÃ§Ä±k).
- Fraud & default event mapping TODO gÃ¼ncellendi â†’ geliÅŸmiÅŸ davranÄ±ÅŸsal heuristik odaklÄ±.

### Mevcut SÄ±nÄ±rlamalar (GÃ¼ncel)
- Fraud heuristikleri basit (repeat-pair); Ã§eÅŸitlilik / hacim patternleri & multi-sinyal korelasyon yok.
- Onboarding adÄ±m seti minimal (yalnÄ±zca ilk kontrat) â€“ Ã§ok adÄ±mlÄ± gÃ¶rev zinciri & zamanlama tetikleri eksik.
- Mentor geliÅŸmiÅŸ kalite skoru (decay, retention, fraud etkileÅŸimi) yok (yalnÄ±zca basit bileÅŸik skor helper fonksiyon). 
- Multi-account & cihaz fingerprint korelasyon metriÄŸi yok (yalnÄ±zca plan dÃ¼zeyi).
- Reputation rule set version iÃ§in kalÄ±cÄ± audit diff persist edilmedi (yalnÄ±zca console log).
- Trade pair metrikleri iÃ§in label bazlÄ± ayrÄ±ntÄ±landÄ±rma yok (sadece aggregate counters); potansiyel label patlama kontrolÃ¼ beklemede.

### KÄ±sa Vadeli Teknik Ã–ncelikler (3.5 Finalizasyon)
1. Onboarding multi-step progression (zaman damgalÄ± gÃ¶rev zinciri + ek spesifik kural anahtarlarÄ±).
2. GeliÅŸmiÅŸ fraud heuristikleri (partner Ã§eÅŸitliliÄŸi dÃ¼ÅŸÃ¼k + burst hÄ±z + deÄŸer eÅŸiÄŸi kombinasyonu â†’ risk skor + koÅŸullu FRAUD_FLAG).
3. Mentor composite kalite skoru derivation (decay + mentee retention + rating varyans) + Prometheus metric (`mentor_quality_score`).
4. Multi-account erken sinyal: IP kÃ¼melenmesi + creation cadence + (placeholder) device fingerprint alanÄ±.
5. Reputation rule set persistent audit (version -> previous version diff tablo kaydÄ±) + Prometheus `reputation_rules_info` label geniÅŸletme.
6. Negatif reputation eventleri iÃ§in explicit counters tamamlandÄ±; onboarding event counters (onboard_step, specific overrides) ekle.
7. Trade pair heuristik sampling / top-N raporlama stratejisi (performans & etiket patlamasÄ± Ã¶nleme).

### Yeni / GÃ¼ncellenen TODO Etiketleri
- `// TODO(fraud): heuristic flag emit (burst trade / low diversity / value spike)`
- `// TODO(onboarding): multi-step progression & granular rules` 
- `// TODO(mentor): composite_quality_score decay & retention`
- `// TODO(meta): reputationRules persistent audit storage`
- `// TODO(metrics): onboarding counters & mentor quality gauge`
- `// TODO(security): device fingerprint placeholder`
- `// TODO(trade): pair sampling strategy`

---

## ğŸš€ GÃ¼ncel GeliÅŸtirme Roadmap (Revize)
**Faz 1 (TamamlandÄ± kÄ±smen):** Onboarding konsept + chat UI + backend scaffold  
**Faz 2 (3.4 ile geniÅŸledi):** Auth middleware, geliÅŸmiÅŸ leaderboard, cursor abuse yÃ¶netimi âœ…  
**Faz 3 (3.5-pre aÅŸamasÄ±):** Reputation geniÅŸleme + risk & trade metrik altyapÄ±sÄ± âœ… (finalizasyon gÃ¶revleri aÃ§Ä±k)  
**Faz 4:** Kontrat geliÅŸmiÅŸ risk heuristikleri & ekonomik craft dÃ¶ngÃ¼sÃ¼  
**Faz 5:** Ã–lÃ§ek optimizasyon + moderasyon araÃ§larÄ± + multi-account / SMS  

---

## ğŸ”„ **DÃ–KÃœMAN GÃœNCELLEME SÄ°STEMÄ°**

### **ğŸ“‹ GÃ¼ncelleme KurallarÄ±:**
1. **Her yeni Ã¶zellik** eklendiÄŸinde versiyon numarasÄ± artÄ±rÄ±lÄ±r
2. **BÃ¼yÃ¼k deÄŸiÅŸiklikler** iÃ§in yeni bÃ¶lÃ¼m eklenir
3. **Eski bilgiler** silinmez, Ã¼stÃ¼ Ã§izilir veya "gÃ¼ncellenmiÅŸ" etiketi eklenir
4. **DeÄŸiÅŸiklik tarihi** her zaman kaydedilir

### **ğŸ¯ Bir Sonraki GÃ¼ncellemeler:** (GÃ¼ncellendi 11 AÄŸustos 2025)
- [ ] Reputation event otomasyon pipeline
- [ ] Mentor bot â†’ gerÃ§ek mentor geÃ§iÅŸi
- [ ] Trade temel endpoint & audit entegrasyonu
- [ ] Contract risk skor algoritmasÄ±
- [ ] Onboarding gÃ¶rev state alanlarÄ±
- [ ] Fraud default penalty (otomatik trust delta)
- [ ] applyAbuseHeaders refactor (tek set geÃ§iÅŸi)

---

## ğŸ“š **REFERANS DOSYA DURUMU**
**Bu dosya aktif referans dÃ¶kÃ¼manÄ±dÄ±r (Versiyon 3.4).**  
**Ã–nceki versiyon (3.2) deÄŸiÅŸiklikleri Ã¼stte korunmuÅŸtur.**  
**Yeni Ã¶zellikler burada kaydedilecektir.**

---

**HazÄ±rlayan:** Musa & GitHub Copilot  
**Tarih:** 11 AÄŸustos 2025  
**Versiyon:** 3.5-pre - Reputation & Risk AltyapÄ± GeniÅŸlemesi
