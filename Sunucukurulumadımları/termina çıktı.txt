musasrvr@xmusasrvr:/srv/gameby/GameBY$ # Sunucuda SSH key oluştur ve GitHub'a ekle
musasrvr@xmusasrvr:/srv/gameby/GameBY$ ssh-keygen -t ed25519 -C "deploy@tcrtsmlatronline.app"
at ~/.ssh/id_ed25519.pub  # Bu key'i GitHub'a ekleGenerating public/private ed25519 key pair.
Enter file in which to save the key (/home/musasrvr/.ssh/id_ed25519):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Saving key "cat ~/.ssh/id_ed25519.pub  # Bu key'i GitHub'a ekle" failed: No such file or directory
musasrvr@xmusasrvr:/srv/gameby/GameBY$
musasrvr@xmusasrvr:/srv/gameby/GameBY$ cat ~/.ssh/id_ed25519.pub
ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIF74sn4VJcPTXO9EkrF9eYVFXdju9RhHhAtmNBC93tVp github-deploy
musasrvr@xmusasrvr:/srv/gameby/GameBY$
musasrvr@xmusasrvr:/srv/gameby/GameBY$
musasrvr@xmusasrvr:/srv/gameby/GameBY$
musasrvr@xmusasrvr:/srv/gameby/GameBY$
musasrvr@xmusasrvr:/srv/gameby/GameBY$ # Deploy script'i tekrar çalıştır
musasrvr@xmusasrvr:/srv/gameby/GameBY$ sudo /opt/gameby/deploy.sh
 Bu sefer git pull çalışması lazım (SSH key ile)Fri 15 Aug 2025 09:08:25 PM UTC: Starting GameBY deployment...
Fri 15 Aug 2025 09:08:25 PM UTC: Pulling latest changes from GitHub...
git@github.com: Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
Fri 15 Aug 2025 09:08:27 PM UTC: Stopping containers...
 Container gameby-nginx-1  Stopping
 Container gameby-nginx-1  Stopped
 Container gameby-nginx-1  Removing
 Container gameby-nginx-1  Removed
 Container gameby-api-1  Stopping
 Container gameby-api-1  Stopped
 Container gameby-api-1  Removing
 Container gameby-api-1  Removed
 Network gameby_default  Removing
 Network gameby_default  Removed
Fri 15 Aug 2025 09:08:27 PM UTC: Starting containers...
 Network gameby_default  Creating
 Network gameby_default  Created
 Container gameby-api-1  Creating
 Container gameby-api-1  Created
 Container gameby-nginx-1  Creating
 Container gameby-nginx-1  Created
 Container gameby-api-1  Starting
 Container gameby-api-1  Started
 Container gameby-api-1  Waiting
 Container gameby-api-1  Healthy
 Container gameby-nginx-1  Starting
 Container gameby-nginx-1  Started
Fri 15 Aug 2025 09:08:38 PM UTC: Waiting for health checks...
Fri 15 Aug 2025 09:08:53 PM UTC: Checking container status...
NAME             IMAGE                 COMMAND                  SERVICE   CREATED          STATUS                    PORTS
gameby-api-1     gameby-api            "docker-entrypoint.s…"   api       26 seconds ago   Up 25 seconds (healthy)   0.0.0.0:3000->3000/tcp, [::]:3000->3000/tcp
gameby-nginx-1   nginx:stable-alpine   "/docker-entrypoint.…"   nginx     26 seconds ago   Up 15 seconds (healthy)   0.0.0.0:80->80/tcp, [::]:80->80/tcp
Fri 15 Aug 2025 09:08:53 PM UTC: Deployment completed!
musasrvr@xmusasrvr:/srv/gameby/GameBY$
musasrvr@xmusasrvr:/srv/gameby/GameBY$ # Bu sefer git pull çalışması lazım (SSH key ile)
musasrvr@xmusasrvr:/srv/gameby/GameBY$
musasrvr@xmusasrvr:/srv/gameby/GameBY$
musasrvr@xmusasrvr:/srv/gameby/GameBY$
musasrvr@xmusasrvr:/srv/gameby/GameBY$
musasrvr@xmusasrvr:/srv/gameby/GameBY$ # 1. Deploy script'i HTTPS kullanacak şekilde değiştir
 sed -imusasrvr@xmusasrvr:/srv/gameby/GameBY$ sudo sed -i 's|git@github.com:|https://github.com/|' /opt/gameby/deploy.sh
Git remote'u HTTPS'e çevir
cd /srv/gameby/GameBY
git remote set-url origin https://github.com/pringless01/GameBY.git

# 3. Deploy script'i test et
sudo /opt/gameby/deploy.sh

# 4. HTTPS git pull test et
git pull origin mainmusasrvr@xmusasrvr:/srv/gameby/GameBY$
musasrvr@xmusasrvr:/srv/gameby/GameBY$ # 2. Git remote'u HTTPS'e çevir
musasrvr@xmusasrvr:/srv/gameby/GameBY$ cd /srv/gameby/GameBY
musasrvr@xmusasrvr:/srv/gameby/GameBY$ git remote set-url origin https://github.com/pringless01/GameBY.git
musasrvr@xmusasrvr:/srv/gameby/GameBY$
musasrvr@xmusasrvr:/srv/gameby/GameBY$ # 3. Deploy script'i test et
musasrvr@xmusasrvr:/srv/gameby/GameBY$ sudo /opt/gameby/deploy.sh
Fri 15 Aug 2025 09:10:38 PM UTC: Starting GameBY deployment...
Fri 15 Aug 2025 09:10:38 PM UTC: Pulling latest changes from GitHub...
From https://github.com/pringless01/GameBY
 * branch            main       -> FETCH_HEAD
Already up to date.
Fri 15 Aug 2025 09:10:38 PM UTC: Stopping containers...
 Container gameby-nginx-1  Stopping
 Container gameby-nginx-1  Stopped
 Container gameby-nginx-1  Removing
 Container gameby-nginx-1  Removed
 Container gameby-api-1  Stopping
 Container gameby-api-1  Stopped
 Container gameby-api-1  Removing
 Container gameby-api-1  Removed
 Network gameby_default  Removing
 Network gameby_default  Removed
Fri 15 Aug 2025 09:10:39 PM UTC: Starting containers...
 Network gameby_default  Creating
 Network gameby_default  Created
 Container gameby-api-1  Creating
 Container gameby-api-1  Created
 Container gameby-nginx-1  Creating
 Container gameby-nginx-1  Created
 Container gameby-api-1  Starting
 Container gameby-api-1  Started
 Container gameby-api-1  Waiting
 Container gameby-api-1  Healthy
 Container gameby-nginx-1  Starting
 Container gameby-nginx-1  Started
Fri 15 Aug 2025 09:10:50 PM UTC: Waiting for health checks...
Fri 15 Aug 2025 09:11:05 PM UTC: Checking container status...
NAME             IMAGE                 COMMAND                  SERVICE   CREATED          STATUS                    PORTS
gameby-api-1     gameby-api            "docker-entrypoint.s…"   api       26 seconds ago   Up 25 seconds (healthy)   0.0.0.0:3000->3000/tcp, [::]:3000->3000/tcp
gameby-nginx-1   nginx:stable-alpine   "/docker-entrypoint.…"   nginx     26 seconds ago   Up 15 seconds (healthy)   0.0.0.0:80->80/tcp, [::]:80->80/tcp
Fri 15 Aug 2025 09:11:05 PM UTC: Deployment completed!
musasrvr@xmusasrvr:/srv/gameby/GameBY$
musasrvr@xmusasrvr:/srv/gameby/GameBY$ # 4. HTTPS git pull test et
musasrvr@xmusasrvr:/srv/gameby/GameBY$ git pull origin main
From https://github.com/pringless01/GameBY
 * branch            main       -> FETCH_HEAD
Already up to date.
musasrvr@xmusasrvr:/srv/gameby/GameBY$ ssh -T -vvv git@github.com
OpenSSH_8.2p1 Ubuntu-4ubuntu0.13, OpenSSL 1.1.1f  31 Mar 2020
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: include /etc/ssh/ssh_config.d/*.conf matched no files
debug1: /etc/ssh/ssh_config line 21: Applying options for *
debug2: resolving "github.com" port 22
debug2: ssh_connect_direct
debug1: Connecting to github.com [140.82.121.3] port 22.
debug1: Connection established.
debug1: identity file /home/musasrvr/.ssh/id_rsa type 0
debug1: identity file /home/musasrvr/.ssh/id_rsa-cert type -1
debug1: identity file /home/musasrvr/.ssh/id_dsa type -1
debug1: identity file /home/musasrvr/.ssh/id_dsa-cert type -1
debug1: identity file /home/musasrvr/.ssh/id_ecdsa type -1
debug1: identity file /home/musasrvr/.ssh/id_ecdsa-cert type -1
debug1: identity file /home/musasrvr/.ssh/id_ecdsa_sk type -1
debug1: identity file /home/musasrvr/.ssh/id_ecdsa_sk-cert type -1
debug1: identity file /home/musasrvr/.ssh/id_ed25519 type 3
debug1: identity file /home/musasrvr/.ssh/id_ed25519-cert type -1
debug1: identity file /home/musasrvr/.ssh/id_ed25519_sk type -1
debug1: identity file /home/musasrvr/.ssh/id_ed25519_sk-cert type -1
debug1: identity file /home/musasrvr/.ssh/id_xmss type -1
debug1: identity file /home/musasrvr/.ssh/id_xmss-cert type -1
debug1: Local version string SSH-2.0-OpenSSH_8.2p1 Ubuntu-4ubuntu0.13
debug1: Remote protocol version 2.0, remote software version 5ec3cafd
debug1: no match: 5ec3cafd
debug2: fd 3 setting O_NONBLOCK
debug1: Authenticating to github.com:22 as 'git'
debug3: hostkeys_foreach: reading file "/home/musasrvr/.ssh/known_hosts"
debug3: record_hostkey: found key type ECDSA in file /home/musasrvr/.ssh/known_hosts:1
debug3: load_hostkeys: loaded 1 keys from github.com
debug3: order_hostkeyalgs: have matching best-preference key type ecdsa-sha2-nistp256-cert-v01@openssh.com, using HostkeyAlgorithms verbatim
debug3: send packet: type 20
debug1: SSH2_MSG_KEXINIT sent
debug3: receive packet: type 20
debug1: SSH2_MSG_KEXINIT received
debug2: local client KEXINIT proposal
debug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,ext-info-c,kex-strict-c-v00@openssh.com
debug2: host key algorithms: ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,sk-ecdsa-sha2-nistp256-cert-v01@openssh.com,ssh-ed25519-cert-v01@openssh.com,sk-ssh-ed25519-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com,rsa-sha2-256-cert-v01@openssh.com,ssh-rsa-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2-nistp256@openssh.com,ssh-ed25519,sk-ssh-ed25519@openssh.com,rsa-sha2-512,rsa-sha2-256,ssh-rsa
debug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com
debug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com
debug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1
debug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1
debug2: compression ctos: none,zlib@openssh.com,zlib
debug2: compression stoc: none,zlib@openssh.com,zlib
debug2: languages ctos:
debug2: languages stoc:
debug2: first_kex_follows 0
debug2: reserved 0
debug2: peer server KEXINIT proposal
debug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,kex-strict-s-v00@openssh.com
debug2: host key algorithms: ssh-ed25519,ecdsa-sha2-nistp256,rsa-sha2-512,rsa-sha2-256,ssh-rsa
debug2: ciphers ctos: chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr,aes128-ctr
debug2: ciphers stoc: chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr,aes128-ctr
debug2: MACs ctos: hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512,hmac-sha2-256
debug2: MACs stoc: hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512,hmac-sha2-256
debug2: compression ctos: none,zlib@openssh.com
debug2: compression stoc: none,zlib@openssh.com
debug2: languages ctos:
debug2: languages stoc:
debug2: first_kex_follows 0
debug2: reserved 0
debug3: will use strict KEX ordering
debug1: kex: algorithm: curve25519-sha256
debug1: kex: host key algorithm: ecdsa-sha2-nistp256
debug1: kex: server->client cipher: chacha20-poly1305@openssh.com MAC: <implicit> compression: none
debug1: kex: client->server cipher: chacha20-poly1305@openssh.com MAC: <implicit> compression: none
debug3: send packet: type 30
debug1: expecting SSH2_MSG_KEX_ECDH_REPLY
debug3: receive packet: type 31
debug1: Server host key: ecdsa-sha2-nistp256 SHA256:p2QAMXNIC1TJYWeIOttrVc98/R1BUFWu3/LiyKgUfQM
debug3: hostkeys_foreach: reading file "/home/musasrvr/.ssh/known_hosts"
debug3: record_hostkey: found key type ECDSA in file /home/musasrvr/.ssh/known_hosts:1
debug3: load_hostkeys: loaded 1 keys from github.com
debug3: hostkeys_foreach: reading file "/home/musasrvr/.ssh/known_hosts"
debug3: record_hostkey: found key type ECDSA in file /home/musasrvr/.ssh/known_hosts:2
debug3: load_hostkeys: loaded 1 keys from 140.82.121.3
debug1: Host 'github.com' is known and matches the ECDSA host key.
debug1: Found key in /home/musasrvr/.ssh/known_hosts:1
debug3: send packet: type 21
debug1: resetting send seqnr 3
debug2: set_newkeys: mode 1
debug1: rekey out after 134217728 blocks
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug3: receive packet: type 21
debug1: resetting read seqnr 3
debug1: SSH2_MSG_NEWKEYS received
debug2: set_newkeys: mode 0
debug1: rekey in after 134217728 blocks
debug1: Will attempt key: /home/musasrvr/.ssh/id_rsa RSA SHA256:T5HMJ12endA4glHnDDPlpMKHVgpR87qLfQYi7xzGqD4
debug1: Will attempt key: /home/musasrvr/.ssh/id_dsa
debug1: Will attempt key: /home/musasrvr/.ssh/id_ecdsa
debug1: Will attempt key: /home/musasrvr/.ssh/id_ecdsa_sk
debug1: Will attempt key: /home/musasrvr/.ssh/id_ed25519 ED25519 SHA256:6acCypvUV7lTc50lVGPS/CGRZuFvQerVaDbAuyK3fu0
debug1: Will attempt key: /home/musasrvr/.ssh/id_ed25519_sk
debug1: Will attempt key: /home/musasrvr/.ssh/id_xmss
debug2: pubkey_prepare: done
debug3: send packet: type 5
debug3: receive packet: type 7
debug1: SSH2_MSG_EXT_INFO received
debug1: kex_input_ext_info: server-sig-algs=<ssh-ed25519-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp256-cert-v01@openssh.com,sk-ssh-ed25519-cert-v01@openssh.com,sk-ecdsa-sha2-nistp256-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com,rsa-sha2-256-cert-v01@openssh.com,ssh-rsa-cert-v01@openssh.com,sk-ssh-ed25519@openssh.com,sk-ecdsa-sha2-nistp256@openssh.com,ssh-ed25519,ecdsa-sha2-nistp521,ecdsa-sha2-nistp384,ecdsa-sha2-nistp256,rsa-sha2-512,rsa-sha2-256,ssh-rsa>
debug3: receive packet: type 6
debug2: service_accept: ssh-userauth
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug3: send packet: type 50
debug3: receive packet: type 51
debug1: Authentications that can continue: publickey
debug3: start over, passed a different list publickey
debug3: preferred gssapi-with-mic,publickey,keyboard-interactive,password
debug3: authmethod_lookup publickey
debug3: remaining preferred: keyboard-interactive,password
debug3: authmethod_is_enabled publickey
debug1: Next authentication method: publickey
debug1: Offering public key: /home/musasrvr/.ssh/id_rsa RSA SHA256:T5HMJ12endA4glHnDDPlpMKHVgpR87qLfQYi7xzGqD4
debug3: send packet: type 50
debug2: we sent a publickey packet, wait for reply
debug3: receive packet: type 51
debug1: Authentications that can continue: publickey
debug1: Trying private key: /home/musasrvr/.ssh/id_dsa
debug3: no such identity: /home/musasrvr/.ssh/id_dsa: No such file or directory
debug1: Trying private key: /home/musasrvr/.ssh/id_ecdsa
debug3: no such identity: /home/musasrvr/.ssh/id_ecdsa: No such file or directory
debug1: Trying private key: /home/musasrvr/.ssh/id_ecdsa_sk
debug3: no such identity: /home/musasrvr/.ssh/id_ecdsa_sk: No such file or directory
debug1: Offering public key: /home/musasrvr/.ssh/id_ed25519 ED25519 SHA256:6acCypvUV7lTc50lVGPS/CGRZuFvQerVaDbAuyK3fu0
debug3: send packet: type 50
debug2: we sent a publickey packet, wait for reply
debug3: receive packet: type 60
debug1: Server accepts key: /home/musasrvr/.ssh/id_ed25519 ED25519 SHA256:6acCypvUV7lTc50lVGPS/CGRZuFvQerVaDbAuyK3fu0
debug3: sign_and_send_pubkey: ED25519 SHA256:6acCypvUV7lTc50lVGPS/CGRZuFvQerVaDbAuyK3fu0
debug3: sign_and_send_pubkey: signing using ssh-ed25519 SHA256:6acCypvUV7lTc50lVGPS/CGRZuFvQerVaDbAuyK3fu0
debug3: send packet: type 50
debug3: receive packet: type 52
debug1: Authentication succeeded (publickey).
Authenticated to github.com ([140.82.121.3]:22).
debug1: channel 0: new [client-session]
debug3: ssh_session2_open: channel_new: 0
debug2: channel 0: send open
debug3: send packet: type 90
debug1: Entering interactive session.
debug1: pledge: network
debug3: receive packet: type 80
debug1: client_input_global_request: rtype hostkeys-00@openssh.com want_reply 0
debug3: receive packet: type 91
debug2: channel_input_open_confirmation: channel 0: callback start
debug2: fd 3 setting TCP_NODELAY
debug3: ssh_packet_set_tos: set IP_TOS 0x08
debug2: client_session2_setup: id 0
debug1: Sending environment.
debug3: Ignored env SHELL
debug3: Ignored env PWD
debug3: Ignored env LOGNAME
debug3: Ignored env XDG_SESSION_TYPE
debug3: Ignored env MOTD_SHOWN
debug3: Ignored env HOME
debug1: Sending env LANG = en_US.UTF-8
debug2: channel 0: request env confirm 0
debug3: send packet: type 98
debug3: Ignored env SSH_CONNECTION
debug3: Ignored env XDG_SESSION_CLASS
debug3: Ignored env TERM
debug3: Ignored env USER
debug3: Ignored env SHLVL
debug3: Ignored env XDG_SESSION_ID
debug3: Ignored env XDG_RUNTIME_DIR
debug3: Ignored env SSH_CLIENT
debug3: Ignored env XDG_DATA_DIRS
debug3: Ignored env PATH
debug3: Ignored env DBUS_SESSION_BUS_ADDRESS
debug3: Ignored env SSH_TTY
debug3: Ignored env _
debug3: Ignored env OLDPWD
debug2: channel 0: request shell confirm 1
debug3: send packet: type 98
debug2: channel_input_open_confirmation: channel 0: callback done
debug2: channel 0: open confirm rwindow 32000 rmax 35000
debug3: receive packet: type 99
debug2: channel_input_status_confirm: type 99 id 0
debug2: shell request accepted on channel 0
debug2: channel 0: rcvd ext data 3
debug2: channel 0: rcvd ext data 11
debug2: channel 0: rcvd ext data 2
debug2: channel 0: rcvd ext data 76
debug2: channel 0: rcvd ext data 1
Hi pringless01! You've successfully authenticated, but GitHub does not provide shell access.
debug2: channel 0: written 93 to efd 6
debug3: receive packet: type 98
debug1: client_input_channel_req: channel 0 rtype exit-status reply 0
debug3: receive packet: type 96
debug2: channel 0: rcvd eof
debug2: channel 0: output open -> drain
debug2: channel 0: obuf empty
debug2: channel 0: chan_shutdown_write (i0 o1 sock -1 wfd 5 efd 6 [write])
debug2: channel 0: output drain -> closed
debug3: receive packet: type 97
debug2: channel 0: rcvd close
debug2: channel 0: chan_shutdown_read (i0 o3 sock -1 wfd 4 efd 6 [write])
debug2: channel 0: input open -> closed
debug3: channel 0: will not send data after close
debug2: channel 0: almost dead
debug2: channel 0: gc: notify user
debug2: channel 0: gc: user detached
debug2: channel 0: send close
debug3: send packet: type 97
debug2: channel 0: is dead
debug2: channel 0: garbage collecting
debug1: channel 0: free: client-session, nchannels 1
debug3: channel 0: status: The following connections are open:
  #0 client-session (t4 r43 i3/0 o3/0 e[write]/0 fd -1/-1/6 sock -1 cc -1)

debug3: send packet: type 1
debug3: fd 1 is not O_NONBLOCK
Transferred: sent 2792, received 2700 bytes, in 0.3 seconds
Bytes per second: sent 10057.6, received 9726.1
debug1: Exit status 1
musasrvr@xmusasrvr:/srv/gameby/GameBY$ ssh-add ~/.ssh/id_ed25519
Could not open a connection to your authentication agent.
musasrvr@xmusasrvr:/srv/gameby/GameBY$